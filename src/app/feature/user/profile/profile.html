<div class="profile-layout">
  <div class="main-content">
    <div class="profile-header">
      <div class="profile-actions">
        <button class="ghost-button" (click)="loadProfile()" [disabled]="loading || saving">
          Refresh
        </button>
        <button class="primary-button" (click)="saveProfile()" [disabled]="saving || loading">
          {{ saving ? 'Saving...' : 'Save Changes' }}
        </button>
      </div>
      <p class="status-message error" *ngIf="errorMessage">{{ errorMessage }}</p>
      <p class="status-message success" *ngIf="successMessage">{{ successMessage }}</p>
    </div>

    <div class="content-area">
      <div class="profile-grid">
        <section class="profile-card">
          <div class="card-header">
            <h2>Basic Information</h2>
            <p>How people recognize you across the app.</p>
          </div>
          <div class="card-body">
            <div class="avatar-block">
              <div class="avatar">
                <img
                  *ngIf="profile.avatarUrl"
                  [src]="profile.avatarUrl"
                  alt="Profile avatar"
                />
                <span *ngIf="!profile.avatarUrl">{{ profile.fullName ? profile.fullName[0] : 'U' }}</span>
              </div>
              <app-text-input
                label="Avatar URL"
                placeholder="https://..."
                [(value)]="profile.avatarUrl"
              ></app-text-input>
            </div>

            <div class="grid-two">
              <app-text-input
                label="Full Name"
                placeholder="Enter your name"
                [(value)]="profile.fullName"
              ></app-text-input>
              <app-text-input
                label="Title"
                placeholder="Product Manager"
                [(value)]="profile.title"
              ></app-text-input>
            </div>

            <div class="grid-two">
              <app-text-input
                label="Email"
                type="email"
                placeholder="you@example.com"
                [(value)]="profile.email"
              ></app-text-input>
              <app-text-input
                label="Phone"
                placeholder="+1 555 123 4567"
                [(value)]="profile.phone"
              ></app-text-input>
            </div>

            <div class="textarea-block">
              <label>Bio</label>
              <textarea
                rows="4"
                placeholder="Tell us about yourself"
                [(ngModel)]="profile.bio"
              ></textarea>
            </div>
          </div>
        </section>

        <section class="profile-card">
          <div class="card-header">
            <h2>Preferences</h2>
            <p>Personalize how we communicate and display information.</p>
          </div>
          <div class="card-body">
            <div class="grid-two">
              <app-select-input
                label="Gender"
                placeholder="Select gender"
                [options]="genderOptions"
                [(value)]="profile.gender"
              ></app-select-input>
              <app-select-input
                label="Timezone"
                placeholder="Select timezone"
                [options]="timezoneOptions"
                [(value)]="profile.timezone"
              ></app-select-input>
            </div>

            <div class="grid-two">
              <app-select-input
                label="Language"
                placeholder="Preferred language"
                [options]="languageOptions"
                [(value)]="profile.language"
              ></app-select-input>
              <app-text-input
                label="Location"
                placeholder="City, Country"
                [(value)]="profile.location"
              ></app-text-input>
            </div>
          </div>
        </section>
      </div>

      <div class="loading-state" *ngIf="loading">
        <div class="spinner"></div>
        <p>Loading profile...</p>
      </div>
    </div>
  </div>
</div>
